<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Checkbox in Table</title>
</head>
    <script>
    function sendSelection(evt) {
        var selectedRows = document.querySelectorAll(':checked');
        var selection = [];
        for (var i = 0; i < selectedRows.length; i++)
        {
            var row = selectedRows[i];
            selection.push({row: row.id});
        }

        var message = {
            resultName: self.resultName,
            selections: selection
        };

        var message = {
            resultName: self.resultName,
            message: "What is going on here?"
        };

        sendMessage(message);
    }

    function sendMessage(message)
    {
        var url = (window.location != window.parent.location)
            ? document.referrer
            : document.location.href;

        window.parent.postMessage(message, url);
    }

        document.addEventListener('DOMContentLoaded', () => {
            // let firstRowCheckbox = document.querySelector('#myTable tr:first-child input[type="checkbox"]');
            // firstRowCheckbox.checked = true; // Check the checkbox

        // var checkbox = document.createElement('input');
        var checkbox = document.querySelector('#myTable tr:first-child input[type="checkbox"]');
        checkbox.type = 'checkbox';
        checkbox.setAttribute.name('id1');
        checkbox.value = 'en-US'
        checkbox.checked = true;
        checkbox.addEventListener('click', sendSelection);

            // firstRowCheckbox.click();

        });



    </script>
<body>
    <table id="myTable">
        <tr>
            <td><input id=id1 type="checkbox"></td>
            <td>en-US</td>
        </tr>
        <tr>
            <td><input id=id2 type="checkbox"></td>
            <td>fr-CA</td>
        </tr>
    </table>


</body>
</html>